<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hyun Joying's Portfolio</title>
    
    <link rel="stylesheet" href="./assets/css/style.css">

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;500;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200;300;400;500;600;700;900&display=swap" rel="stylesheet">
</head>
<body>


<div class="paraScroll">scrollTop() : <span>0</span>px</div>


<!-- main -->
<div id="main">
    <div id="container">
        <div id="main_title"
            data-300 = "opacity: 1;"
            data-1000 = "opacity: 0;"
        >
            <div id="title">Hyun<br>Joying</div>
            <div id="desc">web developer portfolio site</div>
        </div>
    </div>
    <div id="land"><img src="./assets/img/islandWrap.svg" alt="land"></div>
    <div id="sun"></div>
    <div id="sunS"></div>
    <div id="waves"></div>
    <div id="ship"><img src="./assets/img/ship.svg" alt="ship"></div>
</div>
<!-- //main -->


<div id="contents">
    <!-- section01 -->
    <div id="section01">            
        <div id="introduce"
            data-2600 = "opacity: 1;"
            data-3000 = "opacity: 0;"
        >
            <div class="intImg"
                data-aos="fade-up"
                data-aos-anchor-placement="bottom-bottom"
                data-aos-duration="1000">
                <svg id="svg" viewBox="0 0 1000 1000">
                    <clipPath id="clip-path">
                        <path class="blob cls-1"></path>
                    </clipPath>
                    <path class="blob cls-1"></path>
                    <g class="cls-2">
                        <image class="cls-3" width="1000" height="1000" xlink:href="./assets/img/photo.jpeg" alt="me"/>
                    </g>
                </svg>
            </div>
            <div class="intTxt"
                data-aos="fade-up"
                data-aos-anchor-placement="bottom-bottom"
                data-aos-duration="1000"
                >
                <p>ë§Œë‚˜ì„œ ë°˜ê°€ì›Œìš” ğŸ‘‹<br>
                ì €ëŠ” í”„ë¡ íŠ¸ ì—”ë“œë¥¼ ê¿ˆê¾¸ëŠ”<br>
                ì›¹ í¼ë¸”ë¦¬ì…”ë¥¼ ê¿ˆê¾¸ëŠ”<br>
                ê¿ˆë¹› íŒŒí‹°ì‹œì—˜ ê¹€í˜„ì •ì…ë‹ˆë‹¤.<br><br>
                
                í¬ê·¼í¬ê·¼ ë‹¬ì½¤í•´ ë‘¥ê¸€ë‘¥ê¸€ ë¶€í‘¸ëŠ” ë§ˆìŒ<br>
                ë§›ìˆëŠ” ê¿ˆì„ ê·¸ë ¤ë´ìš” í–‰ë³µí•œ ê¿ˆë¹› íŒŒí‹°ì‹œì—˜<br><br>
                
                ë§¤ì¼ ë°˜ë³µë˜ëŠ” ìƒˆ ì•„ì¹¨ë„ ì˜¤ëŠ˜ì€ ì¢€ ë” íŠ¹ë³„í•˜ì£ <br>
                ì–´ì„œê°€ìš” ìŠ¤ìœ„íŠ¸ ì™•êµ­ìœ¼ë¡œ </p>
            </div>
        </div>
    </div>
    <!-- //section01 -->


    <!-- section02 -->
    <div id="section02">
        <div id="me"><img src="./assets/img/me.svg" alt="me"
            data-3000 = "opacity: 0; left: -200px; transform: translate(0%,0%);"
            data-3500 = "opacity: 1; left: 150px; transform: translate(0%, 0%);"
            data-4500 = "left: 100px; transform: translate(300%, 1000%);"
            data-4700 = "transform: translate(700%, 1000%);"
        ></div>
        <div id="stoneLeft"><img src="./assets/img/stoneLeft.svg" alt="stoneLeft"></div>
        <div id="floor"><img src="./assets/img/floor.svg" alt="floor"></div>
        <div id="seal"><img src="./assets/img/seal.svg" alt="seal"></div>
        <div id="leaf_L">
            <img id="pink_leaf" src="./assets/img/pink_leaf.svg" alt="pink_leaf.svg">
            <img id="babyPink_leaf" src="./assets/img/babyPink_leaf.svg" alt="babyPink_leaf.svg">
            <img id="purple_leaf" src="./assets/img/purple_leaf.svg" alt="purple_leaf.svg">
            <img id="red_left" src="./assets/img/red_left.svg" alt="red_left.svg">
            <img id="red_left2" src="./assets/img/red_left.svg" alt="red_left2.svg">
            <img id="babyPurple_leaf" src="./assets/img/babyPurple_leaf.svg" alt="babyPurple_leaf.svg">
            <img id="yell_leaf" src="./assets/img/yell_leaf.svg" alt="yell_leaf.svg">
            <img id="tree1" src="./assets/img/tree1.svg" alt="tree1.svg">
            <img id="tree2" src="./assets/img/tree2.svg" alt="tree2.svg">
        </div>
        <div id="leaf_R">
            <img id="pink_leaf2" src="./assets/img/pink_leaf2.svg" alt="pink_leaf2.svg">
            <img id="babyPink_leaf2" src="./assets/img/babyPink_leaf2.svg" alt="babyPink_leaf2.svg">
            <img id="red_right" src="./assets/img/red_right.svg" alt="red_right.svg">
            <img id="red_right2" src="./assets/img/red_right.svg" alt="red_right2.svg">
            <img id="babyPurple_leaf2" src="./assets/img/babyPurple_leaf2.svg" alt="babyPurple_leaf.svg">
            <img id="yell_leaf2" src="./assets/img/yell_leaf2.svg" alt="yell_leaf2.svg">
        </div>

        <img id="hippocampus" src="./assets/img/hippocampus.svg" alt="hippocampus.svg">
        <img id="hippocampus2" src="./assets/img/hippocampus.svg" alt="hippocampus2.svg">
        <img id="hippocampus3" src="./assets/img/hippocampus.svg" alt="hippocampus3.svg">
        <img id="miniFish" src="./assets/img/miniFish.png" alt="miniFish.svg">
        <img id="yellFish" src="./assets/img/yellFish.svg" alt="yellFish.svg">
        <img id="nimoFish" src="./assets/img/nimoFish.svg" alt="nimoFish.svg">
        <img id="nimoFish2" src="./assets/img/nimoFish.svg" alt="nimoFish2.svg">
    </div>
    <!-- //section02 -->


    <section id="section3"> </section><!-- //section3 -->
    <section id="section4"> </section><!-- //section4 -->
    <section id="section5"> </section><!-- //section5 -->
</div>
<!-- //contents -->


<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script type="module" src="./assets/js/app.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/skrollr/0.6.30/skrollr.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/ScrollTrigger.min.js"></script>
<script>
    var s = skrollr.init({

    }
);
    
    AOS.init();

    var scroller = {
        target: document.querySelector(".scroll_container"),
        ease: 3, // <= scroll speed
        endY: 0,
        y: 0,
        resizeRequest: 1,
        scrollRequest: 0,
    };

    let main = gsap.timeline({
        scrollTrigger: {
            trigger: "#main",
            pin: true,
            scrub: 0.3,
            start: "top top",
            end: "+=1200"
        }
    })
    main.to("#sun", {
        scrollTrigger: {
            trigger: "#sun",
            start: "bottom center",
            scrub: 2,
        },
    y: 600, duration: 2,
    }); 


    window.addEventListener("scroll", function(){
        let scrollTop = window.pageYOffset || document.documentElement.scrollTop || window.scrollY;
        let titleOffset = document.querySelector('#main_title').offsetTop;
        let picOffset = document.querySelector('.intImg').offsetTop;
        let intTxt = document.querySelector('.intTxt').offsetTop;
        console.log(picOffset)


        document.querySelector(".paraScroll span").innerText = parseInt(scrollTop);

        var offset = s.relativeToAbsolute(document.querySelector('.intImg'), 'top', 'bottom');
        console.log(picOffset)
        if(s.getScrollTop() == 1000){
            s.setScrollTop(picOffset)
        }
    })

    
    const blob = createBlob({
            element: document.querySelector('.blob'),
            numPoints: 10,
            centerX: 490,
            centerY: 490,
            minRadius: 360,
            maxRadius: 420,
            minDuration: 1,
            maxDuration: 2
        })

    function createBlob(options) {

        var points = [];
        var path = options.element;
        var slice = (Math.PI * 2) / options.numPoints;
        var startAngle = random(Math.PI * 2);

        var tl = new TimelineMax({
            onUpdate: update
        });

        for (var i = 0; i < options.numPoints; i++) {

            var angle = startAngle + i * slice;
            var duration = random(options.minDuration, options.maxDuration);

            var point = {
                x: options.centerX + Math.cos(angle) * options.minRadius,
                y: options.centerY + Math.sin(angle) * options.minRadius
            };

            var tween = TweenMax.to(point, duration, {
                x: options.centerX + Math.cos(angle) * options.maxRadius,
                y: options.centerY + Math.sin(angle) * options.maxRadius,
                repeat: -1,
                yoyo: true,
                ease: Sine.easeInOut
            });

            tl.add(tween, -random(duration));
            points.push(point);
        }

        options.tl = tl;
        options.points = points;

        function update() {
            path.setAttribute("d", cardinal(points, true, 1));
        }

        return options;
    }

    function cardinal(data, closed, tension) {

        if (data.length < 1) return "M0 0";
        if (tension == null) tension = 1;

        var size = data.length - (closed ? 0 : 1);
        var path = "M" + data[0].x + " " + data[0].y + " C";

        for (var i = 0; i < size; i++) {

            var p0, p1, p2, p3;

            if (closed) {
                p0 = data[(i - 1 + size) % size];
                p1 = data[i];
                p2 = data[(i + 1) % size];
                p3 = data[(i + 2) % size];

            } else {
                p0 = i == 0 ? data[0] : data[i - 1];
                p1 = data[i];
                p2 = data[i + 1];
                p3 = i == size - 1 ? p2 : data[i + 2];
            }

            var x1 = p1.x + (p2.x - p0.x) / 6 * tension;
            var y1 = p1.y + (p2.y - p0.y) / 6 * tension;

            var x2 = p2.x - (p3.x - p1.x) / 6 * tension;
            var y2 = p2.y - (p3.y - p1.y) / 6 * tension;

            path += " " + x1 + " " + y1 + " " + x2 + " " + y2 + " " + p2.x + " " + p2.y;
        }

        return closed ? path + "z" : path;
    }

    function random(min, max) {
        if (max == null) { max = min; min = 0; }
        if (min > max) { var tmp = min; min = max; max = tmp; }
        return min + (max - min) * Math.random();
    }
    //ì•„ë©”ë°”


    for (var i = 0; i < 20; i++) {
        var bubble = document.createElement('div');
        bubble.className = 'bubble';
        var set = Math.random() * 30 + 10 + 'px';

        bubble.style.width = set;
        bubble.style.height = set;
        bubble.style.bottom = Math.random() * 4000 + 'px';
        bubble.style.left = Math.random() * document.querySelector("#contents").offsetWidth + 'px';

        document.querySelector("#contents").appendChild(bubble);

        Animate(bubble)
    }

    function Animate(set) {
        $(set).animate({
            bottom: document.querySelector("#contents").offsetHeight + 'px',
            left: '+=' + ((Math.random() * 100) - 50) + 'px'
        }, Math.random() * 12000 + 5000, 'linear', function() {
            set.style.bottom = '0px';
            Animate(set)
        });
    }
    // ë¬¼ë°©ìš¸


</script>

</body>
</html>